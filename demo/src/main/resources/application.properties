# =============================================
# EDUCATIONAL PLATFORM - APPLICATION PROPERTIES
# =============================================

# Application
spring.application.name=CogniLearn - Intelligent Educational Platform

# Exclude OpenAI auto-configuration (using Gemini instead)
spring.autoconfigure.exclude=org.springframework.ai.autoconfigure.openai.OpenAiAutoConfiguration

# Server
server.port=8081
server.error.include-message=always
server.error.include-binding-errors=always

# =============================================
# FILE UPLOAD CONFIGURATION
# =============================================
file.upload-dir=./uploads
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# =============================================
# DATABASE CONFIGURATION (H2 In-Memory)
# =============================================
spring.datasource.url=jdbc:h2:mem:eduplatform
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 Console (for debugging)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.datasource.hikari.maximum-pool-size=10

# JPA / Hibernate
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=true
spring.jpa.defer-datasource-initialization=true

# =============================================
# THYMELEAF CONFIGURATION
# =============================================
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8

# =============================================
# SPRING SECURITY CONFIGURATION
# =============================================
# Session timeout (30 minutes)
server.servlet.session.timeout=30m

# =============================================
# AI / LLM CONFIGURATION (Google Gemini - Mock Mode)
# =============================================
# Mock mode enabled - quizzes will use simulated data instead of real API calls
app.llm.mock-mode=false

# Google Gemini API Configuration (not required for mock mode)
# Get your API key from: https://aistudio.google.com/app/apikey
# Note: Set the GEMINI_API_KEY environment variable or replace with your actual key
app.gemini.api-key=${GEMINI_API_KEY:}

# Legacy OpenAI Configuration (not used - kept for reference)
# spring.ai.openai.api-key=${OPENAI_API_KEY}
# spring.ai.openai.chat.options.model=gpt-4
# spring.ai.openai.chat.options.temperature=0.7

# =============================================
# RAG CONFIGURATION
# =============================================
app.rag.chunk-size=500
app.rag.chunk-overlap=50
app.rag.max-chunks-per-query=5

# =============================================
# QUIZ CONFIGURATION
# =============================================
app.quiz.pass-threshold=70
app.quiz.min-quizzes-to-complete=2
app.quiz.default-questions=5
app.quiz.max-questions=20

# =============================================
# LOGGING CONFIGURATION
# =============================================
logging.level.root=INFO
logging.level.com.example.demo=DEBUG
logging.level.org.springframework.security=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# =============================================
# ACTUATOR (Optional - for monitoring)
# =============================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
